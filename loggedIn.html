<!DOCTYPE html>
<html>
<head>
    <!-- Make sure to replace the "latest" with a specific version
        found on https://github.com/descope/descope-js/tree/main/packages/sdks/web-js-sdk-->
    <script src="https://descopecdn.com/npm/@descope/web-js-sdk@latest/dist/index.umd.js"></script>
    <script src="javascriptVars.js"></script>
    <style>
        .borderexample {
            border-width:3px;
            border-style:solid;
            border-color:black;
            max-width: 500px;
            min-width: 100px;
            word-wrap:break-word;
        }
    </style>
</head>
<body>
    <h1>Successfully logged in</h1>
    <br>
    <h2>Welcome <span id="userName">Loading...</span></h2>
    
    <h3>Your sessionJwt is:
        <p class="borderexample" id="sessionJwt"></p>
    </h3>
    <br>
    <button onclick="location.href = './index.html';" id="home" class="float-left submit-button">Home</button>

    <script>
        (async () => {
            let sdk = Descope({projectId: projectId});
            const user = await sdk.me(localStorage.getItem("DSR"));
            const userId = user.data.name;
            document.getElementById('userName').textContent = userId;
            document.getElementById('sessionJwt').textContent = localStorage.getItem("DS");
        })();
    </script>
</body>
</html>
